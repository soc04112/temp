/* src/styles/components/ChatBot.css */

/* 전체 컨테이너 */
.chatbot-container {
    display: flex;
    flex-direction: column;
    height: 100%;
    background-color: var(--trade-card-bg);
    color: var(--trade-text);
}

/* 1. 메시지 영역 */
.chatbot-messages {
    flex: 1;
    overflow-y: auto;
    padding: 15px;
    display: flex;
    flex-direction: column;
    gap: 15px; /* 메시지 간 간격 */
}

/* 메시지 행 (가로 배치) */
.message-row {
    display: flex;
    align-items: flex-end; /* 아이콘을 말풍선 하단에 맞춤 */
    gap: 8px;
    max-width: 100%;
}

/* 내 메시지 (우측 정렬) */
.my-msg {
    justify-content: flex-end;
}

/* 봇 메시지 (좌측 정렬) */
.bot-msg {
    justify-content: flex-start;
}

/* 봇 아바타 아이콘 */
.bot-avatar {
    width: 32px;
    height: 32px;
    background-color: var(--trade-border, #333);
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    color: #2962ff; /* 파란색 로봇 */
    font-size: 0.9rem;
    flex-shrink: 0;
}

/* 말풍선 공통 스타일 */
.message-bubble {
    padding: 10px 14px;
    border-radius: 12px;
    font-size: 0.9rem;
    line-height: 1.4;
    max-width: 75%; /* 최대 너비 제한 */
    word-wrap: break-word; /* 긴 단어 줄바꿈 */
    white-space: pre-wrap; /* 줄바꿈 문자(\n) 인식 */
    box-shadow: 0 1px 2px rgba(0,0,0,0.1);
}

/* 봇 말풍선 스타일 */
.bot-msg .message-bubble {
    background-color: var(--trade-bg, #f5f5f5); /* 밝은 테마: 연한 회색 */
    color: var(--trade-text);
    border-bottom-left-radius: 2px; /* 말풍선 꼬리 느낌 */
    border: 1px solid var(--trade-border);
}
/* 다크모드일 때 봇 말풍선 배경 재정의 */
body.dark-mode .bot-msg .message-bubble {
    background-color: #2a2e39; /* 어두운 회색 */
    border: none;
}

/* 내 말풍선 스타일 */
.my-msg .message-bubble {
    background-color: #2962ff; /* 파란색 강조 */
    color: #ffffff;
    border-bottom-right-radius: 2px; /* 말풍선 꼬리 느낌 */
}

/* 2. 입력 영역 */
.chatbot-input-area {
    padding: 10px;
    border-top: 1px solid var(--trade-border);
    background-color: var(--trade-card-bg);
    display: flex;
    gap: 10px;
    align-items: center;
}

.chat-input {
    flex: 1;
    padding: 10px 15px;
    border-radius: 20px;
    border: 1px solid var(--trade-border);
    background-color: var(--trade-bg);
    color: var(--trade-text);
    font-size: 0.9rem;
    outline: none;
    transition: border-color 0.2s;
}
.chat-input:focus {
    border-color: #2962ff;
}

.chat-send-btn {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: #2962ff;
    color: white;
    border: none;
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 1rem;
    transition: background 0.2s;
}
.chat-send-btn:hover {
    background-color: #1e4bd1;
}

/* 로딩 애니메이션 (점 3개) */
.loading-bubble {
    display: flex;
    gap: 3px;
    padding: 12px 16px;
}
.dot {
    animation: bounce 1.4s infinite ease-in-out both;
    font-weight: bold;
    font-size: 1.2rem;
    line-height: 0.5;
}
.dot:nth-child(1) { animation-delay: -0.32s; }
.dot:nth-child(2) { animation-delay: -0.16s; }

@keyframes bounce {
    0%, 80%, 100% { transform: scale(0); }
    40% { transform: scale(1); }
}